# Инструкция по работе с Classroom

В рамках курса вам будут предложены домашние задания и практики. В большинстве случаев сдача происходит с помощью GitHub.Classroom.

Вам необходимо настроить взаимодействие с репозиторием через SSH-ключи [по инструкции от Github](https://docs.github.com/en/authentication/connecting-to-github-with-ssh)

## Настройка репозитория с заданием

* К каждому заданию будет приложена инвайт-ссылка на GitHub Classroom, после перехода по ней у вас создастся приватный репозиторий со стартовым кодом, тестами и конфигурациями. Склонируйте его и выполняйте задания в нём.
* После **первого** клона (вообще, а не на какой-то конкретной машине) нужно инициализировать ветки запуском соответствующего скрипта из корня репозитория:
```bash
$ chmod +x init-repo.sh
$ ./init-repo.sh
```
* При каждом **следующем** клоне вашего репозитория, если такие вдруг будут, необходимо добавлять базовый (из которого был создан ваш) с помощью следующей команды: 
```bash
$ git remote add upstream <link-to-base-repo>
```
Обратите внимание, что нужно использовать ссылку для ssh вида `git@github.com:CPP-KT/wordcount-task.git`
* После этого вы можете коммитить в любые ветки кроме `feedback`, которая будет соответствовать `upstream/master`

## Подтягивание новых тестов и других изменений

Иногда нам приходится править какие-то проблемы в конфигурациях или добавлять новые тесты. Чтобы обновлять репозитории и не ломать PR, пользуйтесь специальным скриптом. 

**ВНИМАНИЕ:** перед его работой вам необходимо либо закоммитить последние изменения, либо сохранить куда-то незакомиченные изменения, например, с помощью [git-stash](https://git-scm.com/docs/git-stash). 

Чтобы подтянуть сами изменения, достаточно выполнить следующую команду из корня репозитория:
```bash
$ chmod +x update-repo.sh
$ ./update-repo.sh
```

## Сдача

Для сдачи решения необходимо сделать следующее:
* Перенести решение в ветку `master`, если не делали сразу всё в ней.
* Сделайте коммит с вашим решением. Проследите, чтобы в коммит попали только файлы с решением (при необходимости можете дополнять [.gitignore](https://git-scm.com/docs/gitignore)), а файлы с тестами **не изменились**.
* Запушить `master` на удалённый репозиторий.
* Проверить, что у вас обновлены тесты и конфигурации (можно просто запустить скрипт).
* Создать [Pull Request](https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request) `master -> feedback`, если у вас его ещё нет.
* Удостовериться, что тесты в тестирующей системе прошли (в PR появится зелёная галочка, так же можно посмотреть подробности на вкладке "Checks")
* Прислать с помощью формы заявку на проверку с ссылкой на этот PR. В случае первой сдачи выбрать режим `сдача`, иначе - `правки`
* Дождаться проверки, исправить замечания, если они есть, повторить процесс.

## Процесс проверки

* В процессе проверки преподаватель будет оставлять комментарии в вашем пулл-реквесте. Комментарии - это замечания, которые нужно исправлять.
* Некоторые комментарии могут быть помечены `[note]`, их исправление необязательно - чаще всего это предложения альтернативных решений, иногда выходящих за рамки курса.
* Закрывать ("resolve") комментарии может только преподаватель.
* Чтобы было удобно вам и преподавателям, после исправления комментария (до того как вы послали заявку на перепроверку) отвечайте на него `fixed`, но **не закрывайте** его.
* Если вы считаете, что замечание некорректно и вам не нужно ничего исправлять, обоснуйте это в ответе на комментарий.
* Задание считается полностью сделанным, только если не осталось ни одного неисправленного комментария (кроме `[note]`).
* Не стоит посылать заявку на проверку правок до того, как вы исправили все замечания (или ответили на них).
* Любые коммиты, сделанные после посылки формы и до её проверки, делаются на ваш страх и риск, так как могут произойти уже после того, как преподаватель начал проверку.
